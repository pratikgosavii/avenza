{% extends "partials/vendorBase.html" %}
{% load static %}

{% block title %}Vendor Profile{% endblock title %}

{% block extra_css %}
<link href="{% static 'libs/admin-resources/jquery.vectormap/jquery-jvectormap-1.2.2.css' %}" rel="stylesheet" type="text/css" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
<style>
  body {
    margin-left: 2%;
    margin-top: 5%;
    background-color: #f0d28c;
  }

  .h1 {
    color: #291a4a;
  }

  .table-container {
    overflow-x: auto;
  }

  .input-group {
    gap: 30px; /* Adds 10px gap between input and button */
  }

  .btn-link {
    color: #291a4a; /* Set the desired link color */
  }

  .btn-link:hover {
    color: #4b2e6a; /* Optional: Set a hover color for better interactivity */
  }

  .status-badge {
    display: inline-block;
    padding: 5px 10px;
    font-size: 0.85rem;
    border-radius: 10px;
  }

  .status-succeeded {
    background-color: #d4edda;
    color: #155724;
  }

  .status-pending {
    background-color: #fff3cd;
    color: #856404;
  }

  .status-declined {
    background-color: #f8d7da;
    color: #721c24;
  }

  .status-create {
    background-color: #cce5ff;
    color: #004085;
  }

  .btn-primary {
    background-color: #291a4a;
    border-color: #291a4a; /* Ensures the border matches the background color */
  }

  .btn-primary:hover {
    background-color: #3b2a65; /* Optional: Slightly lighter shade for hover effect */
    border-color: #3b2a65;
  }
</style>
{% endblock extra_css %}


{% block content %}
<div class="main-content">
    <div class="page-content">
        <div class="container-fluid">



          <div class="container">
            <!-- Header Section -->
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h1 class="h2">Payments Overview</h1>
              <div>
                <button class="btn btn-outline-secondary me-2">Export</button>
                <button class="btn btn-primary">Payment Link</button>
              </div>
            </div>
      
            <!-- Filters Section -->
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <button class="btn btn-link p-0 me-3" onclick="filterTable('')">
                  All payments
                </button>
                <button
                  class="btn btn-link p-0 me-3"
                  onclick="filterTable('Succeeded')"
                >
                  Succeeded
                </button>
                <button class="btn btn-link p-0" onclick="filterTable('Refunded')">
                  Refunded
                </button>
              </div>
              <div>
                <select
                  id="statusFilter"
                  class="form-select form-select-sm d-inline-block w-auto me-2"
                  onchange="filterTable()"
                >
                  <option selected value="">Status</option>
                  <option value="Succeeded">Succeeded</option>
                  <option value="Pending">Pending</option>
                  <option value="Declined">Declined</option>
                  <option value="Create">Create</option>
                </select>
              </div>
            </div>
      
            <!-- Search -->
            <div class="input-group mb-3">
              <input
                id="searchInput"
                type="text"
                class="form-control"
                placeholder="Search by amount, payment method..."
                onkeyup="filterTable()"
              />
              <button class="btn btn-primary" type="button">Search</button>
            </div>
      
            <!-- Table Section -->
            <div class="table-container">
              <table
                id="paymentTable"
                class="table table-bordered table-hover align-middle"
              >
                <thead>
                  <tr>
                    <th scope="col">PAYMENT ID</th>
                    <th scope="col">STATUS</th>
                    <th scope="col">AMOUNT</th>
                    <th scope="col">P. METHOD</th>
                    <th scope="col">CREATION DATE</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Dynamic Rows -->
                  <tr>
                    <td>06e1774-73d4-46ad...90a8</td>
                    <td>
                      <span class="status-badge status-succeeded">Succeeded</span>
                    </td>
                    <td>Rs19,623.00 INR</td>
                    <td>Razorpay</td>
                    <td>Mar 23, 2022, 13:00 PM</td>
                  </tr>
                  <tr>
                    <td>06e1774-73d4-46ad...90a8</td>
                    <td><span class="status-badge status-pending">Pending</span></td>
                    <td>Rs6,623.00 INR</td>
                    <td>Razorpay</td>
                    <td>Mar 23, 2022, 13:00 PM</td>
                  </tr>
                  <tr>
                    <td>06e1774-73d4-46ad...90a8</td>
                    <td>
                      <span class="status-badge status-declined">Declined</span>
                    </td>
                    <td>Rs16,235 INR</td>
                    <td>Razorpay</td>
                    <td>Mar 23, 2022, 13:00 PM</td>
                  </tr>
                  <tr>
                    <td>06e1774-73d4-46ad...90a8</td>
                    <td>
                      <span class="status-badge status-succeeded">Succeeded</span>
                    </td>
                    <td>Rs56,623.00 INR</td>
                    <td>Razorpay</td>
                    <td>Mar 23, 2022, 13:00 PM</td>
                  </tr>
                  <tr>
                    <td>06e1774-73d4-46ad...90a8</td>
                    <td><span class="status-badge status-create">Create</span></td>
                    <td>Rs13000.00 INR</td>
                    <td>Razorpay</td>
                    <td>Mar 23, 2022, 13:00 PM</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
      
          <script>
            function filterTable(status = "") {
              const table = document.getElementById("paymentTable");
              const rows = table.getElementsByTagName("tr");
              const statusFilter =
                status || document.getElementById("statusFilter").value.toLowerCase();
              const searchInput = document
                .getElementById("searchInput")
                .value.toLowerCase();
      
              for (let i = 1; i < rows.length; i++) {
                const row = rows[i];
                const cells = row.getElementsByTagName("td");
                if (!cells.length) continue;
      
                const statusText = cells[1].innerText.toLowerCase();
                const rowText = row.innerText.toLowerCase();
      
                const matchesStatus = statusFilter
                  ? statusText.includes(statusFilter)
                  : true;
                const matchesSearch = searchInput
                  ? rowText.includes(searchInput)
                  : true;
      
                if (matchesStatus && matchesSearch) {
                  row.style.display = "";
                } else {
                  row.style.display = "none";
                }
              }
            }
          </script>


        </div>
    </div>
</div>

{% endblock content %}
