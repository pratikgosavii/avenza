{% extends "partials/adminBase.html" %}
{% load static %}

{% block title %}Create Package{% endblock title %}

{% block extra_css %}
    <!-- Plugin CSS -->
    <link href="{% static 'libs/admin-resources/jquery.vectormap/jquery-jvectormap-1.2.2.css' %}" rel="stylesheet" type="text/css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"/>
    

<style>
    body {
        background-color: #f0d28c;
        padding-bottom: 20px;
    }

    .form-container {
        background-color: #ffffff;
        padding: 40px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .form-heading {
        text-align: left;
        margin-bottom: 20px;
        font-weight: bold;
        font-size: 2rem;
        color: #291a4a;
    }

    .description-box {
        height: 150px;
        resize: none;
    }

    .image-preview {
        max-height: 100px;
        margin-top: 10px;
    }

    .btn-primary {
        background-color: #291a4a;
        border-color: #291a4a;
    }

    .custom-button {
        width: 150px;
    }

</style>
<style>
    /* Custom styles for success and error alerts */
    .alert-success {
        background-color: #d4edda; /* Light green background */
        color: #155724; /* Dark green text */
        border-color: #c3e6cb; /* Light green border */
    }

    .alert-error,
    .alert-danger {
        background-color: #f8d7da; /* Light red background */
        color: #721c24; /* Dark red text */
        border-color: #f5c6cb; /* Light red border */
    }

    .alert-info {
        background-color: #d1ecf1; /* Light blue background */
        color: #0c5460; /* Dark blue text */
        border-color: #bee5eb; /* Light blue border */
    }

    .alert-warning {
        background-color: #fff3cd; /* Light yellow background */
        color: #856404; /* Dark yellow text */
        border-color: #ffeeba; /* Light yellow border */
    }
</style>

{% endblock extra_css %}


{% block content %}
<div class="main-content">
    <div class="page-content">
        <div class="container-fluid">
            <!-- start page title -->
            <div class="row">
                <div class="col-12">
                    <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                        <h4 class="mb-sm-0 font-size-18">Mark Project Completed</h4>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="form-container">
                    <form action="" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <!-- Title -->
                    
                    <!-- Image -->
                    

                    <div class="mb-4">
                            <h5 class="mb-0">Select Images</h5>
                        </div>
                            <input type="file" class="form-control" 
                            multiple id="order_images" name="completion_images"
                            onchange="displaySelectedImages()" />
                            <div class="mt-3" id="selectedImages" style="display: flex; gap: 10px; flex-wrap: wrap"></div>

        



                            <!-- Short Description -->
                            
                            <div class="text-center">
                                <button type="submit" class="btn btn-primary custom-button">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
{% endblock content %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'libs/admin-resources/jquery.vectormap/maps/jquery-jvectormap-world-mill-en.js' %}"></script>
<script src="{% static 'js/pages/allchart.js' %}"></script>
<!-- dashboard init -->
<script src="{% static 'js/pages/dashboard.init.js' %}"></script>


<script>


    function displaySelectedImages() {
        const input = document.getElementById("order_images");
        const selectedImagesContainer = document.getElementById("selectedImages");
        selectedImagesContainer.innerHTML = ""; // Clear previously displayed images
    
        Array.from(input.files).forEach((file) => {
          if (file.type.startsWith("image/")) {
            const reader = new FileReader();
            reader.onload = (event) => {
              const imageDiv = document.createElement("div");
              imageDiv.style.position = "relative";
              const img = document.createElement("img");
              img.src = event.target.result;
              img.alt = file.name;
              img.style.width = "100px";
              img.style.height = "100px";
              img.style.objectFit = "cover";
              img.style.border = "1px solid #ddd";
              img.style.borderRadius = "5px";
              imageDiv.appendChild(img);
              selectedImagesContainer.appendChild(imageDiv);
            };
            reader.readAsDataURL(file);
          }
        });
      }
    
      
    </script>
    





{% endblock extra_js %}
